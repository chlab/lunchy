{% extends 'lunch/base.html' %}
{% load staticfiles %}

{% block content %}

<input type="hidden" id="place-facebook-id" value="{{restaurant.facebook_id}}">

<div class="card-block text-xs-center" id="restaurant-pic">
</div>

<div class="card-block text-xs-center">
	<h4 class="restaurant-title card-title">{{ restaurant }}</h4>
</div>

<div class="card-block">
	{% if restaurant.mealoption_set.exists %}
		<p>Meal options at this place:</p>
		<ul class="list-group">
			{% for option in restaurant.mealoption_set.all %}
				<li class="list-group-item">{{ option.name }}</li>
			{% endfor %}
		</ul>
		<p class="m-t-2">Want to add another one?</p>
	{% else %}
		<p>There are no meal options for this place yet. Why not add one:</p>
	{% endif %}

	<form action="{% url 'lunch:restaurant_detail' restaurant.id %}" method="post">
		{% csrf_token %}
		<fieldset class="form-group">
			<div class="input-group">
				<input type="text" name="meal_option" class="form-control" placeholder="e.g. {{suggestion|default_if_none:'Pizza'}}" autofocus>
				<span class="input-group-btn">
	          		<button class="btn btn-secondary" type="button">Add</button>
	        	</span>
	        </div>
		</fieldset>
	</form>
</div>

<div class="card-block">
	<a class="card-link" href="{% url 'lunch:index' %}">back</a>
</div>

{% endblock %}

{% block javascript %}
<script src="{% static 'lunch/restaurant.bundle.js' %}" type="text/javascript"></script>
<script>
	(function(d, s, id){
	   var js, fjs = d.getElementsByTagName(s)[0];
	   if (d.getElementById(id)) {return;}
	   js = d.createElement(s); js.id = id;
	   js.src = "//connect.facebook.net/en_US/sdk.js";
	   fjs.parentNode.insertBefore(js, fjs);
	 }(document, 'script', 'facebook-jssdk'));
</script>
{% endblock %}